<!DOCTYPE html>
<!--@DiamondFlight on Github-->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    
    <title>SPC Meso Archive Improved</title>
    
    <link href="style.css" rel="stylesheet" type="text/css" />  <!--This is to format any html objects that aren't in the canvas -->
  </head>
  
  <body onload="loadData()" style="background-color: #765b76;">
    <!--<p style="position:fixed; left:390px; top: 0px; background-color: #e5e5e5; font-size: 20px; font-weight: 850px; font-family: monospace;">Some of the Images will be 1 hour<br> behind because of how they are<br> stored in the noaa database</p>-->
    <canvas id="imageCa" width="1000px" height="750px" style="position:absolute;left:850px;top:20px;background-color: #e5e5e5;"></canvas>
    <!--<canvas id="imageCaSound" width="1000px" height="550px" style="position:absolute;left:850px;top:280px;background-color: #e5e5e5; visibility: hidden;"></canvas>-->
    <!--<button id="soundingButton" width="10px" height="50px" style="position:absolute;left:1050px;top:25px;">Display: Parameters</button>-->
    <!--<img id="showimage" width="1000px" height="750px" style="position:absolute;left:850px;top:20px;background-color: #e5e5e5;object-fit: cover;">-->
    <div id="showimagebg" width="1000px" height="750px" style="position:absolute;left:500px;top:20px;background-color: #e5e5e5;object-fit: cover;"></div>
    <div id="dropdowns">
      <label for="STARTYEAR" id="textYear">Select Year</label>
      <select name="STARTYEAR" id="dateYear">
        <option value="2005">2005</option><option value="2006">2006</option><option value="2007">2007</option><option value="2008">2008</option><option value="2009">2009</option><option value="2010">2010</option><option value="2011" selected="selected">2011</option><option value="2012">2012</option><option value="2013">2013</option><option value="2014">2014</option><option value="2015">2015</option><option value="2016">2016</option><option value="2017">2017</option><option value="2018">2018</option><option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option>		
      </select>
      <br>
      <label for="STARTMONTH" id="textMonth">Select Month</label>
      <select name="STARTMONTH" id="dateMonth" onchange="loadData()">
        <option value="01">Jan</option>
        <option value="02">Feb</option>
        <option value="03">Mar</option>
        <option value="04" selected="selected">Apr</option>
        <option value="05">May</option>
        <option value="06">Jun</option>
        <option value="07">Jul</option>
        <option value="08">Aug</option>
        <option value="09">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>
      <br>
      <label for="STARTDAY" id="textDay">Select Day</label>
      <select name="STARTDAY" id="dateDay" onchange="loadData()">
        <option value="01"> 1</option>
        <option value="02"> 2</option>
        <option value="03"> 3</option>
        <option value="04"> 4</option>
        <option value="05"> 5</option>
        <option value="06"> 6</option>
        <option value="07"> 7</option>
        <option value="08"> 8</option>
        <option value="09"> 9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27" selected="selected">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
      </select>

      <button onclick="switchDisplayDate()" id="displayButton">Display Canvas Date: ON</button>
      <button onclick="hideAllDates()" id="displayButton2" style="top:55px">Display Date Selection: ON</button>
      <button onclick="randomizeDate()" id="displayButton2" style="top:10px">Randomize Date</button>
      <br>
      <hr \>
      <button id="reportsShow" onclick="showReports()">Show Reports</button>
      <button id="outlookShow" onclick="showOutlook()">Show Outlook</button>

      <select name="OUTLOOKTIME" id="outlookHR">
        <option value="1200" selected="selected">06:00Z</option>
        <option value="1300">13:00Z</option>
        <option value="1630">16:30Z</option>
        <option value="2000">20:00Z</option>
        <option value="0100">01:00Z</option>
      </select>

      <select name="OUTLOOKTYPE" id="outlookTYP">
        <option value="prt" selected="selected">Convective</option>
        <option value="torn">Tornado</option>
        <option value="wind">Wind</option>
        <option value="hail">Hail</option>
      </select>

      <label for="OFFICES" id="textSounding" style="visibility: hidden; position: absolute;">Choose Sounding Office </label>
      <select name="OFFICES" id="offices" style="visibility: hidden;  position: absolute;">
        <option value="prt" selected="selected">Convective</option>
        <option value="torn_prt">Tornado</option>
        <option value="wind_prt">Wind</option>
        <option value="hail_prt">Hail</option>
      </select>

      <p id="timeSliderTxt">12Z</p>
      <input type="range" min="-7" max="23" value="0" id="timeSlider">
      <br>
      <p id="paramSection2">-Parameter Selection-</p>
	  <button id="paramSelect" style="width:24%; justify-items: right; position:absolute; left: 50%; width: 20%; top: 20%; height: 3% !important; background-color: #484;" onclick="changeParam('sfc','WPC Surface Analysis')">WPC Surface Analysis</button>
	  <button id="paramSelect" style="width:24%; justify-items: right; position:absolute; left: 71%; width: 4%; top: 20%; height: 3% !important; background-color: #824;" onclick="changeSFC('in')">+</button>
	  <button id="paramSelect" style="width:24%; justify-items: right; position:absolute; left: 75%; width: 4%; top: 20%; height: 3% !important; background-color: #284;" onclick="changeSFC('out')">-</button>
	  <button id="paramSelect" style="width:24%; justify-items: right; position:absolute; left: 81%; width: 4%; top: 20%; height: 3% !important; background-color: #828;" onclick="changeSFC('up')">↑</button>
	  <button id="paramSelect" style="width:24%; justify-items: right; position:absolute; left: 85%; width: 4%; top: 20%; height: 3% !important; background-color: #282;" onclick="changeSFC('down')">↓</button>
	  <button id="paramSelect" style="width:24%; justify-items: right; position:absolute; left: 91%; width: 4%; top: 20%; height: 3% !important; background-color: #828;" onclick="changeSFC('left')">←</button>
	  <button id="paramSelect" style="width:24%; justify-items: right; position:absolute; left: 95%; width: 4%; top: 20%; height: 3% !important; background-color: #282;" onclick="changeSFC('right')">→</button>
      <div id="sectionParams">
        <p id="paramSection">Observations/Basic Surface</p>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('bigsfc.gif','Surface Weather Plot')">Regional Surface Chart</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('1kmv.gif','Visual Satellite')">Visual Satellite Image</button>
        <button id="paramSelect" style="background-color: #248; width:24%;" onclick="changeParam('rgnlrad.gif','NWS Composite Reflectivity')">Base Reflectivity Mosiac</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('rgnlwarn.gif','Watch/Warning Summary')">Watch/Warning Summary</button>
        <button id="paramSelect" style="background-color: #248; width:19%;" onclick="changeParam('pmsl.gif','MSL Pressure and Surface Wind')">MSL Pressure/Wind</button>
        <button id="paramSelect" style="width:18%;background-color: #828;" onclick="changeParam('ttd.gif','Surface Temp, Dewpoint, and pmsl')">T / Td / Wind</button>
        <button id="paramSelect" style="width:22%;background-color: #828;" onclick="changeParam('mcon.gif','Surface Mstr Conv and Mixing Ratio (fill)')">Moisture Convergence</button>
        <button id="paramSelect" style="width:19%;background-color: #828;" onclick="changeParam('thea.gif','Surface Theta-E (fill) / Advection (C/hr)')">ThetaE Advection</button>
        <button id="paramSelect" style="width:19%;background-color: #828;" onclick="changeParam('pchg.gif','2hr sfc pres chg (mb)')">2hr Pres Change</button>
		<button id="paramSelect" style="width:49%;background-color: #828;" onclick="changeParam('mcon.gif','Sfc moisture conv/mixing ratio')">Sfc moisture convergence+mixing ratio </button>
		<button id="paramSelect" style="width:49%;background-color: #828;" onclick="changeParam('mixr.gif','100mb mean mixing ratio (fill)/sfc streamlines')">100mb Mixing Ratio/Sfc Streamline (>May 2023)</button>
		<button id="paramSelect" style="width:49%;background-color: #828;" onclick="changeParam('mxth.gif','Sfc mixing ratio (fill)/theta/sfc wind')">Sfc mixing ratio/theta/sfc wind</button>
		<button id="paramSelect" style="width:49%;background-color: #828;" onclick="changeParam('mixr_chg.gif','100mb mean mix ratio 3h change(fill)/sfc wind')">3hr mix ratio change/sfc wind</button>
        <p id="paramSection">Basic UA/Forcing Fields</p>
        <button id="paramSelect" style="background-color: #828;width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('300mb.gif','300mb hght/divergence/wind')">300 mb</button>	
        <button id="paramSelect" style="background-color: #828;width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('500mb.gif','500mb hght/temp/wind')">500 mb</button>
        <button id="paramSelect" style="background-color: #828;width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('700mb.gif','700mb hght/wind/temp/700-500mb mean RH (fill)')">700 mb</button>
        <button id="paramSelect" style="background-color: #828;width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('850mb.gif','850mb hght/temp/dwpt (fill)/wind')">850 mb</button>
        <button id="paramSelect" style="width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('alsr.gif','Anvil SR Winds')">Anvil Level SR Winds</button>
        <button id="paramSelect" style="width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('hlsr.gif','850mb & 500mb Wind Crossover')">9-11km SR Winds</button>
        <button id="paramSelect" style="width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('mlsr.gif','Mid Level SR Winds')">4-6km SR Winds</button>
        <button id="paramSelect" style="width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('llsr.gif','SFC-2km SR Winds')">0-2km SR Winds</button>
        <button id="paramSelect" style="background-color: #248;" onclick="changeParam('dlcp.gif','Deep Layer mstr flux cvgnc and 100mb mean mixing ratio')">Deep Moisture Conv</button>
        <button id="paramSelect" onclick="changeParam('sfnt.gif','SFC Frontogenesis, temp, pres, and wind')">Surface Frontogenesis</button>
        <button id="paramSelect" style="background-color: #248;" onclick="changeParam('crit.gif','Critical Angle (fill, deg), 0-1 srh, SBCAPE (J/kg)')">Crit Angle, SRH, SBCAPE (>May 2023)</button>
        <button id="paramSelect" onclick="changeParam('8fnt.gif','850mb Petterssen frontogenesis (fill)')">850 mb Frontogenesis</button>
        <button id="paramSelect" onclick="changeParam('7fnt.gif','700mb Petterssen frontogenesis (fill)')">700 mb Frontogenesis</button>
        <button id="paramSelect" onclick="changeParam('857f.gif','850-700mb mean Petterssen frontogenesis (fill)')">850-700 mb Frontogenesis</button>
        <button id="paramSelect" onclick="changeParam('75ft.gif','700-500mb mean Petterssen frontogenesis (fill))">700-500 mb Frontogenesis</button>
        <button id="paramSelect" onclick="changeParam('vadv.gif','700-400mb differential vorticity advection, 500mb height/vorticity (fill)')">700-400 mb Diff. Vort. Advection</button>
        <button id="paramSelect" onclick="changeParam('padv.gif','400-250mb (fill)/mean potential vorticity advection and 300mb streamlines')">400-250 mb Pot. Vort. Advection</button>
        <button id="paramSelect" onclick="changeParam('ddiv.gif','850mb conv(red), 850mb differential divergence (fill), 250mb divergence (purple)')">850-250 mb Diff. Diverge</button>
        <button id="paramSelect" onclick="changeParam('ageo.gif','300mb isotach (fill), height, ageostrophic wind; 700-500mb layer-ave omega (magenta-up/red-down)')">300 mb Jet Circulation</button>
        <button id="paramSelect" onclick="changeParam('mnwd.gif','850-300mb mean wind (kt)')">850-300mb Mean Wind</button>
		<button id="paramSelect" style="background-color: #248;" onclick="changeParam('dvvr.gif','Surface Vorticity (fill) and (Divergence) (conv=SOLID red, divg=DASHED blue')">Divergence &amp; SFC Vorticity</button>
		<button id="paramSelect" style="background-color: #248;" onclick="changeParam('tadv.gif','850mb temperature advection (fill - 10e-5 C/s)')">850 mb Temperature Advection</button>
		<button id="paramSelect" style="background-color: #248;" onclick="changeParam('7tad.gif','700mb temperature advection (fill - 10e-5 C/s)')">700 mb Temp Adv (>May 2023 only)</button>
        <p id="paramSection">Thermodynamic Fields</p>
        <button id="paramSelect" style="background-color: #828;width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('sbcp.gif','SBCAPE (contour) and SBCIN (J/kg, shaded >25)')">SBCape / Cin</button>
        <button id="paramSelect" style="background-color: #828;width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('mlcp.gif','MLCAPE (contour) and MLCIN (J/kg, shaded >25)')">MLCape</button>
        <button id="paramSelect" style="background-color: #828;width:24%;padding-left: 0px;padding-right: 0px;"onclick="changeParam('mucp.gif','MUCAPE (contour) and lifted parcel level (m AGL, fill)')">MUCape / LPL Height</button>
        <button id="paramSelect" style="width:24%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('muli.gif','SBLI (500mb) and SBCIN (J/kg, shaded >25)')">SB Lifted Index / CINH</button>
        <button id="paramSelect" style="background-color: #828;width:49%" onclick="changeParam('laps.gif','700-500mb LR (Mid Level)')">Mid Level Lapse Rates</button>
		<button id="paramSelect" style="background-color: #828;width:49%" onclick="changeParam('laps_chg.gif','6hr 700-500mb LR  change(Mid Level)')">6hr MLLR Change (&lt 05/2023)</button>
		<button id="paramSelect" style="background-color: #828;width:49%" onclick="changeParam('lllr.gif','0-3km LR (Low Level)')">Low Level Lapse Rates</button>
		<button id="paramSelect" style="background-color: #828;width:49%" onclick="changeParam('lllr_chg.gif','3hr 0-3km LR change(Low Level)')">3hr LLLR change (&lt 05/2023)</button>
        
        <button id="paramSelect" style="width:20%" onclick="changeParam('ncap.gif','Normalized Cape')">Normalized Cape</button>
        <button id="paramSelect" style="width:20%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('dcape.gif','DCAPE (downdraft)')">Downdraft Cape</button>
        <button id="paramSelect" style="background-color: #248; width:18%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('lfch.gif','100mb mean Parcel LFC height (m AGL)')">LFC Height</button>
        <button id="paramSelect" style="background-color: #248; width:18%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('lclh.gif','100mb mean Parcel LCL height (m AGL)')">LCL Height</button>
        <button id="paramSelect" style="width:18%;padding-left: 0px;padding-right: 0px;" onclick="changeParam('lfrh.gif','LCL-LFC mean RH (fill), MUCape >100 (contour)')">LCL - LFC RH</button>
        <p id="paramSection">Wind Shear</p>
        <button id="paramSelect" style="background-color: #828;" onclick="changeParam('xover.gif','850mb & 500mb Wind Crossover')">850 &amp; 500 mb winds</button>
        <button id="paramSelect" style="background-color: #828;" onclick="changeParam('eshr.gif','Effective bulk Shear (kt)')">Effective Shear</button>
        <button id="paramSelect" onclick="changeParam('brns.gif','Bulk-Richardson Number Shear (BRN)')">BRN Shear</button>
        <button id="paramSelect" style="background-color: #248;" onclick="changeParam('srh1.gif','0-1km SRH (m2/s2) and storm motion (kt)')">0-1km SR Helicity</button>
        <button id="paramSelect" style="background-color: #248;" onclick="changeParam('srh3.gif','0-3km SRH (m2/s2) and storm motion (kt)')">0-3km SR Helicity</button>
        <button id="paramSelect" style="background-color: #828;" onclick="changeParam('effh.gif','Eff. Inflow Base (fill, m AGL), ESRH (m2/s2), storm motion (kt)')">Effective SR Helicity</button>
        <button id="paramSelect" onclick="changeParam('shr1.gif','SFC-1km shear Vector')">0-1km Shear Vector</button>
        <button id="paramSelect" onclick="changeParam('shr6.gif','SFC-6km shear Vector')">0-6km Shear Vector</button>
        <button id="paramSelect" onclick="changeParam('shr8.gif','SFC-8km shear Vector')">0-8km Shear Vector</button>
        <p id="paramSection">Composite Indices</p>
        <button id="paramSelect" style="background-color: #248;width:24%;" onclick="changeParam('scp.gif','Supercell Composite (eff layer) and Bunkers storm motion (kt)')">Supercell Composite</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('lscp.gif','Left-moving Supercell Composite (eff layer) and Bunkers left storm motion (kt)')">Left-Moving SCP</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('stor.gif','Significant Tornado Param (fixed layer), MLCIN (J/kg, shaded >25)')">Fixed Layer STP</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('stpc.gif','Significant Tornado Param (eff layer), MLCIN (J/kg, shaded >25)')">Effective Layer STP</button>
        <button id="paramSelect" onclick="changeParam('sigh.gif','Significant Hail Parameter')">Significant Hail Param.</button>
        <button id="paramSelect" onclick="changeParam('mcsm.gif','MCS mainenance Probability')">MCS maintenance prob.</button>
        <button id="paramSelect" onclick="changeParam('dcp.gif','Derecho Composite')">Decrecho Composite</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('cbsig.gif','Craven/Brooks SigSvr')">Craven/Brooks SigSvr</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('ehi3.gif','3km EHI (truthers)')">3km EHI</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('ehi1.gif','1km EHI')">1km EHI</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('vgp3.gif','3km VGP, Shear vector')">3km VGP</button>
        <p id="paramSection">Multi-Parameter Fields</p>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('cpsh.gif','MUCAPE (red), MUCIN (fill), eff bulk shear (kt)')">MUCAPE &amp; eff. bulk shear</button>
        <button id="paramSelect" style="width:24%;"onclick="changeParam('comp.gif','850mb & 500mb Wind Crossver and MULI (fill)')">MULI, 850 &amp; 500 mb winds</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('lcls.gif','LCL height (fill), 0-1km srh (contour)')">LCL hght/0-1 km SRH</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('lr3c.gif','0-3km LR (fill) and 0-3km MLCAPE (red)')">LL Lapse Rates/3Cape (ML)</button>
        <button id="paramSelect" style="background-color: #828;" onclick="changeParam('3cvr.gif','0-3km MLCAPE and Surface Vorticity')">3Cape (ML) &amp; Sfc Vorticity</button>
        <button id="paramSelect" style="background-color: #828;" onclick="changeParam('tdlr.gif','SFC Dewpoint (fill),700-500mb LR (Mid Level)')">SFC Dewpt/700-500 mb LR</button>
        <button id="paramSelect" style="background-color: #828;" onclick="changeParam('hail.gif','Hail Parameter {Cape -10>-30C (red), frzg level (m), 0-6km shear (kt)}')">Hail Parameters</button>
        <p id="paramSection">Misc. Fields</p>
        <button id="paramSelect" style="background-color: #248; width:24%;"  onclick="changeParam('pwtr.gif','Precipitable water (in) lowest 400mb')">PWAT (Precip. Water)</button>
        <button id="paramSelect" style="background-color: #248; width:24%;" onclick="changeParam('tran.gif','850mb Moisture transport (fill/vector), 850mb height/theta-e')">850 mb Moisture Transport</button>
        <button id="paramSelect" style="width:24%;"onclick="changeParam('prop.gif','precipitable water (fill), upwind propagation vectors, 1000-500mb thickness')">Upwind Propagation Vector</button>
        <button id="paramSelect" style="width:24%;" onclick="changeParam('swbt.gif','Near freezing surface wet bulb temperatures, pres, and wind')">Sfc Wet Bulb Temperature</button>
        
        <button id="paramSelect" onclick="changeParam('thck.gif','Critical Thickness 1000-500mb red, 1000-700mb green, 1000-850mb blue, 850-700mb yellow, sfc temp OC magenta')">Critical Thickness</button>
        <button id="paramSelect" onclick="changeParam('epvl.gif','850mb Frontogenesis (red), EPVGx (shaded) & conditional instability')">800-750 mb EPVg</button>
        <button id="paramSelect" onclick="changeParam('epvm.gif','700mb Frontogenesis (red), EPVGx (shaded) & conditional instability')">650-500 mb EPVg</button>
        <button id="paramSelect"  onclick="changeParam('fzlv.gif','Freezing level (kft), RH & boundary layer OC (red), FZL at model sfc (black)')">Freezing Level Info.</button>
        <button id="paramSelect" onclick="changeParam('les1.gif','Boundary-layer RH (fill), sfc-850mb temp diff (orange), SBCAPE (red)')">Lake Effect Snow 1</button>
        <button id="paramSelect" onclick="changeParam('les2.gif','Boundary-layer wind, streamlines, convergence (red), 850mb wind (blue)')">Lake Effect Snow 2</button>
        <button id="paramSelect" onclick="changeParam('sfir.gif','SFC temp, RH (<=40%), pres and wind')">Surface RH, Temperature, Wind</button>
        <button id="paramSelect" onclick="changeParam('fosb.gif','SPC Fosberg fire weather index >= 40')">Fosberg Index</button>
        <button id="paramSelect" onclick="changeParam('lasi.gif','SPC Lower Atmospheric Severity Index (fill), SBCAPE >100 J/kg')">Lower Atmos. Severity Index</button>
        <button id="paramSelect" onclick="changeParam('lhan.gif','Low elevation Haines index')">Low Altitude Haines Index</button>
        <button id="paramSelect" onclick="changeParam('mhan.gif','Mid elevation Haines index')">Mid Altitude Haines Index</button>
        <button id="paramSelect" onclick="changeParam('hhan.gif','High elevation Haines index')">High Altitude Haines Index</button>
        
      </div>

      
    </div>
	
	<!--//https://www.spc.noaa.gov/exper/archive/events/20120302/soundings/12030212_SNDG/sndgmap.gif-->
	
	<map name="stations">
       <area shape="circle" coords="136,103,5" href="javascript:show_soundings(&quot;LMN&quot;)" alt="LMN">
       <area shape="circle" coords="47,10,5" href="javascript:show_soundings(&quot;YLW&quot;)" alt="YLW">
       <area shape="circle" coords="165,11,5" href="javascript:show_soundings(&quot;WPL&quot;)" alt="WPL">
       <area shape="circle" coords="204,6,5" href="javascript:show_soundings(&quot;YMO&quot;)" alt="YMO">
       <area shape="circle" coords="230,33,5" href="javascript:show_soundings(&quot;WMW&quot;)" alt="WMW">
       <area shape="circle" coords="275,36,5" href="javascript:show_soundings(&quot;YQI&quot;)" alt="YQI">
       <area shape="circle" coords="157,101,5" href="javascript:show_soundings(&quot;SGF&quot;)" alt="SGF">
       <area shape="circle" coords="164,117,5" href="javascript:show_soundings(&quot;LZK&quot;)" alt="LZK">
       <area shape="circle" coords="138,129,5" href="javascript:show_soundings(&quot;FWD&quot;)" alt="FWD">
       <area shape="circle" coords="137,173,5" href="javascript:show_soundings(&quot;BRO&quot;)" alt="BRO">
       <area shape="circle" coords="138,160,5" href="javascript:show_soundings(&quot;CRP&quot;)" alt="CRP">
       <area shape="circle" coords="160,146,5" href="javascript:show_soundings(&quot;LCH&quot;)" alt="LCH">
       <area shape="circle" coords="110,58,5" href="javascript:show_soundings(&quot;RAP&quot;)" alt="RAP">
       <area shape="circle" coords="131,50,5" href="javascript:show_soundings(&quot;ABR&quot;)" alt="ABR">
       <area shape="circle" coords="122,41,5" href="javascript:show_soundings(&quot;BIS&quot;)" alt="BIS">
       <area shape="circle" coords="98,30,5" href="javascript:show_soundings(&quot;GGW&quot;)" alt="GGW">
       <area shape="circle" coords="77,33,5" href="javascript:show_soundings(&quot;TFX&quot;)" alt="TFX">
       <area shape="circle" coords="154,52,5" href="javascript:show_soundings(&quot;MPX&quot;)" alt="MPX">
       <area shape="circle" coords="168,72,5" href="javascript:show_soundings(&quot;DVN&quot;)" alt="DVN">
       <area shape="circle" coords="176,80,5" href="javascript:show_soundings(&quot;ILX&quot;)" alt="ILX">
       <area shape="circle" coords="178,143,5" href="javascript:show_soundings(&quot;LIX&quot;)" alt="LIX">
       <area shape="circle" coords="125,98,5" href="javascript:show_soundings(&quot;DDC&quot;)" alt="DDC">
       <area shape="circle" coords="116,114,5" href="javascript:show_soundings(&quot;AMA&quot;)" alt="AMA">
       <area shape="circle" coords="113,135,5" href="javascript:show_soundings(&quot;MAF&quot;)" alt="MAF">
       <area shape="circle" coords="157,131,5" href="javascript:show_soundings(&quot;SHV&quot;)" alt="SHV">
       <area shape="circle" coords="101,85,5" href="javascript:show_soundings(&quot;DNR&quot;)" alt="DNR">
       <area shape="circle" coords="176,131,5" href="javascript:show_soundings(&quot;JAN&quot;)" alt="JAN">
       <area shape="circle" coords="193,123,5" href="javascript:show_soundings(&quot;BMX&quot;)" alt="BMX">
       <area shape="circle" coords="191,104,5" href="javascript:show_soundings(&quot;BNA&quot;)" alt="BNA">
       <area shape="circle" coords="202,83,5" href="javascript:show_soundings(&quot;ILN&quot;)" alt="ILN">
       <area shape="circle" coords="202,63,5" href="javascript:show_soundings(&quot;DTX&quot;)" alt="DTX">
       <area shape="circle" coords="194,49,5" href="javascript:show_soundings(&quot;APX&quot;)" alt="APX">
       <area shape="circle" coords="178,52,5" href="javascript:show_soundings(&quot;GRB&quot;)" alt="GRB">
       <area shape="circle" coords="225,101,5" href="javascript:show_soundings(&quot;GSO&quot;)" alt="GSO">
       <area shape="circle" coords="233,79,5" href="javascript:show_soundings(&quot;IAD&quot;)" alt="IAD">
       <area shape="circle" coords="153,29,5" href="javascript:show_soundings(&quot;INL&quot;)" alt="INL">
       <area shape="circle" coords="209,140,5" href="javascript:show_soundings(&quot;TLH&quot;)" alt="TLH">
       <area shape="circle" coords="205,120,5" href="javascript:show_soundings(&quot;FFC&quot;)" alt="FFC">
       <area shape="circle" coords="229,173,5" href="javascript:show_soundings(&quot;KEY&quot;)" alt="KEY">
       <area shape="circle" coords="234,164,5" href="javascript:show_soundings(&quot;MFL&quot;)" alt="MFL">
       <area shape="circle" coords="221,154,5" href="javascript:show_soundings(&quot;TBW&quot;)" alt="TBW">
       <area shape="circle" coords="222,136,5" href="javascript:show_soundings(&quot;JAX&quot;)" alt="JAX">
       <area shape="circle" coords="228,119,5" href="javascript:show_soundings(&quot;CHS&quot;)" alt="CHS">
       <area shape="circle" coords="241,104,5" href="javascript:show_soundings(&quot;MHX&quot;)" alt="MHX">
       <area shape="circle" coords="221,93,5" href="javascript:show_soundings(&quot;RNK&quot;)" alt="RNK">
       <area shape="circle" coords="218,73,5" href="javascript:show_soundings(&quot;PIT&quot;)" alt="PIT">
       <area shape="circle" coords="222,57,5" href="javascript:show_soundings(&quot;BUF&quot;)" alt="BUF">
       <area shape="circle" coords="244,83,5" href="javascript:show_soundings(&quot;WAL&quot;)" alt="WAL">
       <area shape="circle" coords="252,62,5" href="javascript:show_soundings(&quot;OKX&quot;)" alt="OKX">
       <area shape="circle" coords="244,52,5" href="javascript:show_soundings(&quot;ALB&quot;)" alt="ALB">
       <area shape="circle" coords="263,54,5" href="javascript:show_soundings(&quot;CHH&quot;)" alt="CHH">
       <area shape="circle" coords="257,40,5" href="javascript:show_soundings(&quot;GYX&quot;)" alt="GYX">
       <area shape="circle" coords="261,21,5" href="javascript:show_soundings(&quot;CAR&quot;)" alt="CAR">
       <area shape="circle" coords="66,128,5" href="javascript:show_soundings(&quot;TUS&quot;)" alt="TUS">
       <area shape="circle" coords="65,109,5" href="javascript:show_soundings(&quot;FGZ&quot;)" alt="FGZ">
       <area shape="circle" coords="35,119,5" href="javascript:show_soundings(&quot;NKX&quot;)" alt="NKX">
       <area shape="circle" coords="20,104,5" href="javascript:show_soundings(&quot;VBG&quot;)" alt="VBG">
       <area shape="circle" coords="16,83,5" href="javascript:show_soundings(&quot;OAK&quot;)" alt="OAK">
       <area shape="circle" coords="30,74,5" href="javascript:show_soundings(&quot;REV&quot;)" alt="REV">
       <area shape="circle" coords="21,55,5" href="javascript:show_soundings(&quot;MFR&quot;)" alt="MFR">
       <area shape="circle" coords="25,38,5" href="javascript:show_soundings(&quot;SLE&quot;)" alt="SLE">
       <area shape="circle" coords="50,26,5" href="javascript:show_soundings(&quot;OTX&quot;)" alt="OTX">
       <area shape="circle" coords="23,18,5" href="javascript:show_soundings(&quot;UIL&quot;)" alt="UIL">
       <area shape="circle" coords="145,90,5" href="javascript:show_soundings(&quot;TOP&quot;)" alt="TOP">
       <area shape="circle" coords="90,113,5" href="javascript:show_soundings(&quot;ABQ&quot;)" alt="ABQ">
       <area shape="circle" coords="88,133,5" href="javascript:show_soundings(&quot;EPZ&quot;)" alt="EPZ">
       <area shape="circle" coords="122,77,5" href="javascript:show_soundings(&quot;LBF&quot;)" alt="LBF">
       <area shape="circle" coords="142,76,5" href="javascript:show_soundings(&quot;OAX&quot;)" alt="OAX">
       <area shape="circle" coords="69,74,5" href="javascript:show_soundings(&quot;SLC&quot;)" alt="SLC">
       <area shape="circle" coords="52,53,5" href="javascript:show_soundings(&quot;BOI&quot;)" alt="BOI">
       <area shape="circle" coords="52,71,5" href="javascript:show_soundings(&quot;LKN&quot;)" alt="LKN">
       <area shape="circle" coords="86,62,5" href="javascript:show_soundings(&quot;RIW&quot;)" alt="RIW">
       <area shape="circle" coords="84,87,5" href="javascript:show_soundings(&quot;GJT&quot;)" alt="GJT">
       <area shape="circle" coords="119,151,5" href="javascript:show_soundings(&quot;DRT&quot;)" alt="DRT">
       <area shape="circle" coords="230,149,5" href="javascript:show_soundings(&quot;XMR&quot;)" alt="XMR">
       <area shape="circle" coords="137,114,5" href="javascript:show_soundings(&quot;OUN&quot;)" alt="OUN">
       <area shape="circle" coords="193,113,5" href="javascript:show_soundings(&quot;QAG&quot;)" alt="QAG">

</map>
	
    <div id="gifSection">
      <p id="gifTitle">Load GIF Increment</p>
      <p id="gifTimeTxt2">Start at 12Z</p>
      <input type="range" style="width: 200px" min="-7" max="23" value="0" id="timeSlider2">
      <p id="gifTimeTxt3">Forward 0 Hours</p>
      <input type="range" style="width: 200px" min="-24" max="24" value="0" id="timeSlider3">
      <button id="loadGif">Load Gif</button>
      <button id="gifTimeArrow"><</button>
      <button id="gifTimeArrow" style="left: 660px;">></button>
      <button id="gifPlay">Play</button>
      <button id="gifPause">Pause</button>
      <canvas id="gifButton"></canvas>
    </div>
    <script>
      var slider = document.getElementById("timeSlider");
      var output = document.getElementById("timeSliderTxt");
      var img = document.getElementById("showimage");
      var displayDate = false;
      var displayRealDate = false;
      var param = "bigsfc.gif";
      var paramName = "Regional Surface ";
      
	  
	  
	    const clamp = (min, val, max) => Math.min(Math.max(min, val), max)

      const sleep = ms => new Promise(r => setTimeout(r, ms));

      const cont = document.getElementById("imageCa");
      const ctx = cont.getContext("2d");

      //const cont2 = document.getElementById("imageCaSound");
      //const ctxs = cont2.getContext("2d");

      var slidetime = document.getElementById("timeSlider2");
      var slidetimeT = document.getElementById("gifTimeTxt2");
      var slideduration = document.getElementById("timeSlider3");
      var slidedurationT = document.getElementById("gifTimeTxt3");

      var gifPlaying = true;
      var gifSpeed = 25;
      var image = [];
      var iter = 0;

      var outlkType = "wind_prt";

      const count = document.getElementById("gifButton");
      const can = count.getContext("2d");
      
      function changeParam(n, r){
        param = n;
        paramName = r;
        loadData();
      }


      function modifyReal(){
        if (Number(slider.value) + 12 >= 24){
          if (Number(slider.value) - 12 < 10){
            return ["0"+(Number(slider.value) - 12).toString(),1];
          } else {
            return [Number(slider.value) - 12,1];
          }
        } else {
          if (Number(slider.value) + 12 < 10){
            return ["0"+(Number(slider.value) + 12).toString(),0];
          } else {
            return [Number(slider.value) + 12,0];
          }
        }
      }
	  
	  //https://www.spc.noaa.gov/exper/archive/events/20120302/soundings/12030212_SNDG/LZK.gif

      function modify(val){
        if (Number(val)+12 >= 24){
          if (Number(val) - 12 < 10){
            return "0"+(Number(val) - 12).toString()
          } else {
            return Number(val) - 12
          }
        } else {
          if (Number(val) + 12 < 10){
            return "0"+(Number(val) + 12).toString()
          } else {
            return Number(val) + 12
          }
        }
      }

      function load_soundings(){
        var indx = "https://www.spc.noaa.gov/exper/archive/events/20240901/soundings/24090112_SNDG/sndgmap.gif";
        var snd = "https://www.spc.noaa.gov/exper/archive/events/20240901/soundings/24090112_SNDG/last.gif";

        var tempimg = new Image();
        tempimg.src = indx;

        var tempso = new Image();
        tempso.src = snd;
        
        tempimg.onload = function(){
          console.log(tempimg.width);
          //ctx.drawImage(tempimg, 0, 0, 1000, 750, 0,0,1000,750);
          ctxs.fillStyle = "#e5e5e5";
          ctxs.fillRect(0,0, 1000, 750);

          ctxs.drawImage(tempimg, 0, 0, tempimg.width, tempimg.height, 0,0,280,210);
          ctxs.fillRect(0,190, 280, 20);

          
			  }

        tempso.onload = function(){
          ctxs.fillStyle = "#ffffff";
          ctxs.fillRect(280,0, 700,450);
          ctxs.drawImage(tempso, 0, 0, tempso.width, tempso.height, 0,0,cont2.width,cont2.height);
        }
      }

      function show_soundings(){
        console.log("CLICKED");
      }
      
      output.innerHTML = modify(slider.value)+"Z";

      slider.oninput = function() {
        loadData();
        
        output.innerHTML = modify(slider.value)+"Z";
      }

      //document.getElementById("outlookHR").oninput = function() {
      //  showOutlook();
      //}

      //document.getElementById("outlookTYP").oninput = function() {
      //  showOutlook();
      //}

      slidetime.oninput = function (){
        
        slidetimeT.innerHTML = "Start at "+modify(slidetime.value)+"Z";
      }

      slideduration.oninput = function(){
        if (slideduration.value > 0){
          slidedurationT.innerHTML = "Next "+slideduration.value+" Hours";
        } else {
          slidedurationT.innerHTML = "Previous "+(-slideduration.value)+" Hours";
        }
      }

      function leapyear(){
        var year = document.getElementById("dateYear").value;
        if (year % 4 == 0){
          if (year % 100 == 0){
            if (year % 400 == 0){
              return true;
            } else {
              return false;
            }
          } else {
            return true;
          }
        } else {
          return false;
        }
      }

      function hideAllDates(){
        var dY = document.getElementById("dateYear");
        var dM = document.getElementById("dateMonth");
        var dD = document.getElementById("dateDay");

        var bt = document.getElementById("displayButton2");

        displayRealDate = !displayRealDate;

        if (displayRealDate) {
          bt.innerHTML = "Display Date Selection:: OFF";
          dY.style.visibility = "hidden";
          dM.style.visibility = "hidden";
          dD.style.visibility = "hidden";
        } else {
          bt.innerHTML = "Display Date Selection:: ON";
          dY.style.visibility = "visible";
          dM.style.visibility = "visible";
          dD.style.visibility = "visible";
        }
      }

      function randomizeDate(){
        var YearRand = Math.floor(Math.random() * (document.getElementById("dateYear").options.length -1))+1;
        var MonthRand = Math.floor(Math.random() * (document.getElementById("dateMonth").options.length -1))+1;
        var DayRand = Math.floor(Math.random() * (document.getElementById("dateDay").options.length -1))+1;

        document.getElementById("dateYear").options.selectedIndex = YearRand;
        document.getElementById("dateMonth").options.selectedIndex = MonthRand;
        document.getElementById("dateDay").options.selectedIndex = DayRand;

        param="300mb.gif";
        paramName="300mb hght/divergence/wind";

        loadData();
      }

      function showOutlook(){
        var Sub = "https://www.spc.noaa.gov/products/outlook/archive/";
        var NewSub = "https://www.spc.noaa.gov/products/outlook/archive/";

        var year = document.getElementById("dateYear").value;
        var month = Number(document.getElementById("dateMonth").value);
        var day = Number(document.getElementById("dateDay").value);
        var outlookHour = document.getElementById("outlookHR").value;
        var outlookType = document.getElementById("outlookTYP").value;
        

        if (day < 10){
          day = "0"+day;
        }

        if (month < 10){
          month = "0"+month;
        }

        Sub = Sub + year.toString() + "/day1otlk_" + year.toString() + month.toString() + day.toString() + "_" + outlookHour + "_" + outlookType + ".gif";
        NewSub = NewSub + year.toString() + "/day1probotlk_" + year.toString() + month.toString() + day.toString() + "_" + outlookHour + "_" + outlookType + ".gif";

        console.log(Sub, NewSub);

        var tempimg = new Image();
        tempimg.src = Sub;

        var tempimg2 = new Image();
        tempimg2.src = NewSub;

        tempimg.onerror = function(){
          console.log("H");

          ctx.fillStyle = "#e5e5e5";
          ctx.fillRect(0,0, 1000, 750);

          ctx.drawImage(tempimg2, 0, 0, tempimg2.width, tempimg2.height, 0,0,1000,750);
        }
        
        tempimg.onload = function(){
          console.log(tempimg.width);
          //ctx.drawImage(tempimg, 0, 0, 1000, 750, 0,0,1000,750);
          ctx.fillStyle = "#e5e5e5";
          ctx.fillRect(0,0, 1000, 750);

          ctx.drawImage(tempimg, 0, 0, tempimg.width, tempimg.height, 0,0,1000,750);
			  }

        tempimg2.onload = function(){
          //ctx.drawImage(tempimg, 0, 0, 1000, 750, 0,0,1000,750);
          ctx.fillStyle = "#e5e5e5";
          ctx.fillRect(0,0, 1000, 750);

          ctx.drawImage(tempimg2, 0, 0, tempimg.width, tempimg.height, 0,0,1000,750);
			  }
      }


      function showSounding(){
        var oldBase = "https://www.spc.noaa.gov/exper/archive/events/110427/raobs/ILX_12_obs.gif";
        var newBase = "https://www.spc.noaa.gov/exper/archive/events/20190520/soundings/19052012_SNDG/TOP.gif";

        var year = document.getElementById("dateYear").value;
        var month = Number(document.getElementById("dateMonth").value);
        var day = Number(document.getElementById("dateDay").value);
        var office = document.getElementById("offices").value;
        var hour = 12;

        var isNew = true;

        if (year <= 2011){
          if (year == 2011){
            if (month <= 9){
              isNew = false;
            } else {
              isNew = true;
            }
          }
        } else {
          isNew = true;
        }

        if (isNew) {
          newBase = newBase + year.toString() + month.toString() + day.toString() + "/soundings/" + year.toString().substring(2,4) + month.toString() + day.toString() + hour.toString() + "_SNDG/" + office.toString() + ".gif";
        }
      }






      function showReports(){
        var Sub = "https://www.spc.noaa.gov/climo/reports/";

        var year = document.getElementById("dateYear").value;
        var month = Number(document.getElementById("dateMonth").value);
        var day = Number(document.getElementById("dateDay").value);

        if (day < 10){
          day = "0"+day;
        }

        if (month < 10){
          month = "0"+month;
        }

        Sub = Sub + year.toString().substring(2,4) + month.toString() + day.toString() +"_rpts.gif";

        console.log(Sub);

        var tempimg = new Image();
        tempimg.src = Sub;
        
        tempimg.onload = function(){
          console.log(tempimg.width);
          //ctx.drawImage(tempimg, 0, 0, 1000, 750, 0,0,1000,750);
          ctx.fillStyle = "#e5e5e5";
          ctx.fillRect(0,0, 1000, 750);

          ctx.drawImage(tempimg, 0, 0, tempimg.width, tempimg.height, 0,0,1000,750);
			  }
      }

      function switchDisplayDate(){
        displayDate = !displayDate;
        var bt = document.getElementById("displayButton");
      
        if (displayDate){
          bt.innerHTML = "Display Date: OFF";
        } else {
          bt.innerHTML = "Display Date: ON";
        }

        loadData();
      }

      var bgImg = new Image();
	  bgImg.src = "https://www.wpc.ncep.noaa.gov/archives/web_pages/sfc/NAmap-topo+.png";
	  
	  function changeSFC(n){
		if (n == 'in'){
			zoom = clamp(zoomlim.min, zoom - zoomlim.step, zoomlim.max);
		} else if (n == 'out'){
			zoom = clamp(zoomlim.min, zoom + zoomlim.step, zoomlim.max);
		}
		
		if (n == 'left'){
			pos.x = clamp(poslim.x.min, pos.x - poslim.x.step, poslim.x.max);
		} else if (n == 'right'){
			pos.x = clamp(poslim.x.min, pos.x + poslim.x.step, poslim.x.max);
		}
		
		if (n == 'up'){
			pos.y = clamp(poslim.y.min, pos.y - poslim.y.step, poslim.y.max);
		} else if (n == 'down'){
			pos.y = clamp(poslim.y.min, pos.y + poslim.y.step, poslim.y.max);
		}
		
		loadData();
	  }
	  
	  var zoom = 1500;
	  var pos = {x:1200, y:1200};
	  
	  var zoomlim = {max:2000, min: 200, step: 100};
	  var poslim = {x:{max:3000, min: 500, step: 100},y:{max:3000, min: 500, step: 100}};

    function loadData(){
     
      if (param == "sfc"){
        const base = "https://www.wpc.ncep.noaa.gov/archives/sfc/";
        const base2 = "/lrgnamsfc";
        
        var trueHour = modifyReal();
        
        var year = document.getElementById("dateYear").value;
        var month = Number(document.getElementById("dateMonth").value);
        var day = Number(document.getElementById("dateDay").value);
        var hour = slider.value;
        
        if (trueHour[1] == 1){
          day += 1;

          if ((day >= 31 && (month == "Jan" || month == "Mar" || month == "May" || month == "Jul" || month == "Aug" || month == "Oct" || month == "Dec")) || (day >= 30 && (month == "Apr" || month == "Jun" || month == "Sep" || month == "Nov")) || (day > 29 && month == "Feb" && leapyear() == true) || (day > 28 && month == "Feb" && leapyear() == false)){
            month += 1;
            day = 0;
          }

          if (month == 13){
            month = 0;
            year += 1;
          }
        }

        console.log(month);

        //if (trueHour < 10){
        //  trueHour = "0"+trueHour;
        // }

        if (day < 10){
          day = "0"+day;
        }

        if (month < 10){
          month = "0"+month;
        }

        trueHour[0] = Math.floor(trueHour[0]/3)*3;

        console.log(trueHour[0]);

        var string = base + year.toString() + base2 + year.toString() + month.toString() + day.toString() + trueHour[0]+".gif";


        var tempimg = new Image();
        tempimg.src = string;
        
        tempimg.onload = function(){
          ctx.drawImage(bgImg, pos.x, pos.y, zoom, zoom * 0.75, 0, 0, 1000, 750);
          ctx.globalAlpha = 0.666;
          ctx.drawImage(tempimg, pos.x, pos.y, zoom, zoom * 0.75, 0, 0, 1000, 750);
          ctx.globalAlpha = 1;
          
          if (!displayDate){
          //ctx.drawImage(tempimg, 0, 0, tempimg.width, tempimg.height, 0,0,1000,750);
          } else {
          //ctx.drawImage(tempimg, 0, 0, tempimg.width, tempimg.height, 0, 0, 1000, 750);
          var num = Math.round(modify(slider.value)/3) * 3;
          
          if (year <= 2005 && month < 5){
            ctx.fillStyle = "#f6f6f6";
            ctx.fillRect(0, 700, 1000, 50);
            
            ctx.fillStyle = "rgb(15, 35, 105)";

            ctx.font = "bold 35px Arial";
            ctx.fillText(num+"Z - "+paramName, 50, 740);
            

            ctx.font = "bold 15px Arial";
            ctx.fillText("(+/-1Z)", 950, 740);
          } else {
            ctx.fillStyle = "#f6f6f6";
            ctx.fillRect(0, 675, 1000, 75);

            ctx.fillStyle = "rgb(15, 35, 105)";
            ctx.font = "bold 35px Arial";
            ctx.fillText(num+"Z - "+paramName, 50, 740);


            ctx.font = "bold 15px Arial";
            ctx.fillText("(+/-1Z)", 950, 740);
          }
          }
        }
      } else {
        const base = "https://www.spc.noaa.gov/exper/ma_archive/images_s4/";
        var year = document.getElementById("dateYear").value;
        var month = Number(document.getElementById("dateMonth").value);
        var day = Number(document.getElementById("dateDay").value);
        var hour = slider.value;

        var trueHour = modifyReal();

        //month == "Jan" || month == "Mar" || month == "May" || month == "Jul" || month == "Aug" || month == "Oct" || month == "Dec"
        //month == "Apr" || month == "Jun" || month == "Sep" || month == "Nov"
        if (trueHour[1] == 1){
          day += 1;

          if ((day >= 31 && (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12)) || (day >= 30 && (month == 4 || month == 6 || month == 9 || month == 11)) || (day > 29 && month == "Feb" && leapyear() == true) || (day > 28 && month == 2 && leapyear() == false)){
            month += 1;
            day = 1;
          }

          if (month == 13){
            month = 1;
            year += 1;
          }
        }

        console.log(month);

        //if (trueHour < 10){
        //  trueHour = "0"+trueHour;
        // }

       

        if (day < 10){
          day = "0"+day;
        }

        if (month < 10){
          month = "0"+month;
        }

        var string = base + year.toString() + month.toString() + day.toString() +"/"+trueHour[0]+"_"+param;


        var tempimg = new Image();
        tempimg.src = string;
        
        tempimg.onload = function(){
          console.log(tempimg.width);
          //ctx.drawImage(tempimg, 0, 0, 1000, 750, 0,0,1000,750);
          ctx.fillStyle = "#e5e5e5";
          ctx.fillRect(0,0, 1000, 750);

          if (!displayDate){
          ctx.drawImage(tempimg, 0, 0, tempimg.width, tempimg.height, 0,0,1000,750);
          } else {
          ctx.drawImage(tempimg, 0, 0, tempimg.width, tempimg.height, 0, 0, 1000, 750);

          if (year < 2023){
            ctx.fillStyle = "#f6f6f6";
            ctx.fillRect(0, 700, 1000, 50);

            ctx.fillStyle = "rgb(15, 35, 105)";
            if (paramName.length > 55){
            ctx.font = "bold 15px Arial";
            ctx.fillText(modify(slider.value)+"Z - "+paramName, 50, 740);
            } else if (paramName.length > 35){
            ctx.font = "bold 25px Arial";
            ctx.fillText(modify(slider.value)+"Z - "+paramName, 50, 740);
            } else {
            ctx.font = "bold 35px Arial";
            ctx.fillText(modify(slider.value)+"Z - "+paramName, 50, 740);
            }
            

            ctx.font = "bold 15px Arial";
            ctx.fillText("(+/-1Z)", 950, 740);
          } else {
            ctx.fillStyle = "#f6f6f6";
            ctx.fillRect(0, 675, 1000, 75);

            ctx.fillStyle = "rgb(15, 35, 105)";
            if (paramName.length > 55){
            ctx.font = "bold 15px Arial";
            ctx.fillText(modify(slider.value)+"Z - "+paramName, 50, 740);
            } else if (paramName.length > 35){
            ctx.font = "bold 25px Arial";
            ctx.fillText(modify(slider.value)+"Z - "+paramName, 50, 740);
            } else {
            ctx.font = "bold 35px Arial";
            ctx.fillText(modify(slider.value)+"Z - "+paramName, 50, 740);
            }


            ctx.font = "bold 15px Arial";
            ctx.fillText("(+/-1Z)", 950, 740);
          }
			  }
			}
		}
      }

      
    </script>
  </body>
</html>
